{
  "i18n": true,
  "type": "tabs",
  "items": {
    "connection": {
      "type": "panel",
      "label": "Connection",
      "items": {
        "_mqttInfo": {
          "type": "staticText",
          "text": "Configure MQTT broker connection for MCDU client communication.",
          "sm": 12
        },
        "mqtt.broker": {
          "type": "text",
          "label": "MQTT Broker",
          "placeholder": "10.10.5.149",
          "sm": 12,
          "md": 6
        },
        "mqtt.port": {
          "type": "number",
          "label": "Port",
          "default": 1883,
          "min": 1,
          "max": 65535,
          "sm": 12,
          "md": 3
        },
        "mqtt.username": {
          "type": "text",
          "label": "Username",
          "default": "iobroker",
          "sm": 12,
          "md": 6
        },
        "mqtt.password": {
          "type": "password",
          "label": "Password",
          "sm": 12,
          "md": 6
        }
      }
    },
    "pages": {
      "type": "panel",
      "label": "Pages",
      "items": {
        "_pagesInfo": {
          "type": "staticText",
          "text": "Configure MCDU pages. Each page can have up to 14 lines with buttons, displays, and datapoints.",
          "sm": 12
        },
        "pages": {
          "type": "table",
          "label": "MCDU Pages",
          "sm": 12,
          "items": [
            {
              "type": "text",
              "attr": "id",
              "title": "Page ID",
              "width": "150px",
              "default": "",
              "placeholder": "home-main"
            },
            {
              "type": "text",
              "attr": "name",
              "title": "Name",
              "width": "200px",
              "default": "",
              "placeholder": "Main Menu"
            },
            {
              "type": "autocompleteSendTo",
              "attr": "parent",
              "title": "Parent",
              "width": "150px",
              "command": "getPageList",
              "allowNonListValues": true,
              "placeholder": "(root)"
            },
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": "Enabled",
              "width": "80px",
              "default": true
            }
          ]
        },
        "_divider1": {
          "type": "divider"
        },
        "_lineConfigInfo": {
          "type": "staticText",
          "text": "**Line Configuration:** To configure page content (buttons, displays, datapoints), edit the 'lines' property below. Each line can have left button, display content, and right button.",
          "sm": 12
        },
        "_lineSchema": {
          "type": "staticText",
          "text": "**Line Schema Example:**\n```json\n[\n  {\n    \"row\": 1,\n    \"leftButton\": {\n      \"type\": \"navigation\",\n      \"target\": \"target-page-id\",\n      \"label\": \"LIGHTS\"\n    },\n    \"display\": {\n      \"type\": \"label\",\n      \"label\": \"Living Room\",\n      \"color\": \"white\"\n    },\n    \"rightButton\": {\n      \"type\": \"empty\"\n    }\n  }\n]\n```",
          "sm": 12
        },
        "selectedPageForEdit": {
          "type": "select",
          "label": "Select Page to Edit Lines",
          "options": [],
          "noTranslation": true,
          "sm": 12,
          "md": 6
        },
        "pageLines": {
          "type": "jsonEditor",
          "label": "Page Lines (JSON)",
          "help": "Configure lines for the selected page. Use the schema example above.",
          "validateJson": true,
          "sm": 12
        }
      }
    },
    "states": {
      "type": "panel",
      "label": "State Browser",
      "items": {
        "_statesInfo": {
          "type": "staticText",
          "text": "Browse ioBroker states to use in page displays and buttons.",
          "sm": 12
        },
        "stateFilter": {
          "type": "text",
          "label": "Filter States",
          "placeholder": "Type to search...",
          "sm": 12,
          "md": 6
        },
        "stateTypeFilter": {
          "type": "select",
          "label": "Type Filter",
          "options": [
            {"label": "All", "value": ""},
            {"label": "Boolean", "value": "boolean"},
            {"label": "Number", "value": "number"},
            {"label": "String", "value": "string"}
          ],
          "default": "",
          "sm": 12,
          "md": 3
        },
        "refreshStates": {
          "type": "sendTo",
          "command": "browseStates",
          "jsonData": "{\"filter\": \"${data.stateFilter}\", \"type\": \"${data.stateTypeFilter}\"}",
          "variant": "contained",
          "label": "Search States",
          "sm": 12,
          "md": 3
        },
        "_statesHelp": {
          "type": "staticText",
          "text": "Click 'Search States' to browse available states. Results will be logged to console (for now - full UI selector coming in next update).",
          "sm": 12
        }
      }
    },
    "display": {
      "type": "panel",
      "label": "Display",
      "items": {
        "display.defaultColor": {
          "type": "select",
          "label": "Default Color",
          "options": [
            {"label": "White", "value": "white"},
            {"label": "Green", "value": "green"},
            {"label": "Amber", "value": "amber"},
            {"label": "Cyan", "value": "cyan"},
            {"label": "Red", "value": "red"}
          ],
          "default": "white",
          "sm": 12,
          "md": 6
        }
      }
    },
    "devices": {
      "type": "panel",
      "label": "Devices",
      "items": {
        "_devicesInfo": {
          "type": "staticText",
          "text": "Connected MCDU devices. Devices auto-register when they connect via MQTT.",
          "sm": 12
        },
        "_devicesNote": {
          "type": "staticText",
          "text": "Check the Objects tab (mcdu.0 â†’ devices) to see registered devices and their status.",
          "sm": 12
        }
      }
    },
    "advanced": {
      "type": "panel",
      "label": "Advanced",
      "items": {
        "debug.enabled": {
          "type": "checkbox",
          "label": "Enable Debug Logging",
          "default": false,
          "sm": 12
        }
      }
    }
  }
}
